function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/OpenCycleMap-1uWDhhb7.js","assets/index-z5sb3xJh.js","assets/index-DUABk0zF.css","assets/store-D6l8L0yo.js","assets/OpenCycleMap-jCI8mrZJ.css","assets/ElevationGraph-FK-AAUm4.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,u as o,R as m,_ as x,a as h,r as d,N as j}from"./index-z5sb3xJh.js";import{u as g}from"./store-D6l8L0yo.js";const u=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",fill:"currentColor",className:"h-5 w-5",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})});function p({waypoint:s,hideMilestoneData:i,Icon:t,lastNode:n=!1}){var a;return e.jsxs("li",{style:{marginBottom:"-4pt"},children:[e.jsx("div",{className:"timeline-middle",children:t}),e.jsxs("div",{className:"timeline-end text-left flex flex-row gap-x-2 px-2 pt-2 m-0",children:[i?e.jsx(e.Fragment,{}):e.jsx("time",{className:"flex-none italic w-10",children:s.milestone>=1e3?`${(s.milestone/1e3).toFixed(0)}km`:"Start"}),e.jsxs("div",{className:"grow text-lg leading-tight",children:[e.jsx("span",{className:"font-bold",children:s.name}),(a=s.description)==null?void 0:a.split("<br>").map((l,r)=>e.jsx("p",{children:l},s.coordinates.toString()+r))]})]}),n?e.jsx(e.Fragment,{}):e.jsx("hr",{style:{zIndex:"-500",marginTop:"2pt",height:"110%"}})]})}function f({waypoints:s,styles:i}){const t=s.filter(n=>n.milestone>1e3).length<=0;return e.jsx("ul",{className:"timeline timeline-vertical timeline-snap-icon timeline-compact",children:s.sort((n,a)=>n.milestone_index-a.milestone_index).map((n,a,l)=>{let r=e.jsx(u,{});const c=`${n.style}-normal`;return c in i&&(r=e.jsx("img",{src:i[c].iconUrl,width:25,height:25})),e.jsx(p,{waypoint:n,hideMilestoneData:t,Icon:r,lastNode:a+1>=l.length},n.coordinates.toString())})})}const N={background:"bg-white"},b={background:"bg-white"},v=({path:s,theme:i})=>{let t=b;return i=="light"&&(t=N),!s||(s==null?void 0:s.statistics.total_distance)<1e3?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"badges flex-wrap w-full text-center space-x-1",children:[e.jsxs("div",{className:`badge py-2.5 px-2.5 space-x-1 ${t.background}`,children:[e.jsx("i",{className:"fa-solid fa-road"}),e.jsxs("span",{children:[((s==null?void 0:s.statistics.total_distance)/1e3).toFixed(1),"km"]})]}),e.jsxs("div",{className:`badge py-2.5 px-2.5 space-x-1 ${t.background}`,children:[e.jsx("i",{className:"fa-solid fa-arrow-up"}),e.jsxs("span",{children:[s==null?void 0:s.statistics.climb.toFixed(0),"m"]})]}),e.jsxs("div",{className:`badge py-2.5 px-2.5 space-x-1 ${t.background}`,children:[e.jsx("i",{className:"fa-solid fa-arrow-down"}),e.jsxs("span",{children:[s==null?void 0:s.statistics.fall.toFixed(0),"m"]})]})]})};function w({folder:s,selectedId:i}){const t=o(),n=g(a=>a.kml.folders.map(l=>l.name));return e.jsxs("div",{className:"dropdown dropdown-end w-full",children:[e.jsxs("div",{tabIndex:0,role:"button",className:"btn h-auto w-full bg-transparent print:border-none print:shadow-none",children:[e.jsx("span",{className:"text-2xl font-bold",children:s.name}),e.jsx(v,{path:s.path,theme:"light"})]}),e.jsx("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-2 bg-base-100 rounded-box w-full",children:n.map((a,l)=>e.jsx("li",{children:e.jsx("a",{onClick:()=>t(`/folder/${l}`),className:i===l?"font-bold":"",children:a})},a))})]})}const k=m.lazy(()=>x(()=>import("./OpenCycleMap-1uWDhhb7.js"),__vite__mapDeps([0,1,2,3,4]))),y=m.lazy(()=>x(()=>import("./ElevationGraph-FK-AAUm4.js"),__vite__mapDeps([5,1,2])));function F(){const{folderId:s}=h();o();const[i,t]=g(l=>l.kml?[l.kml.folders[Number(s)],l.kml.styles]:[void 0,void 0]);let[n,a]=d.useState(!0);return i?e.jsx("div",{className:"flex flex-row justify-center h-screen w-screen",children:e.jsxs("div",{className:"grid grid-cols-2 print:grid-cols-1 gap-10 aspect-a4-landscape",children:[e.jsx("div",{className:"print:hidden grid-1",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"grid content-center justify-center",children:e.jsx("span",{className:"loading loading-ring loading-lg content-center align-middle"})}),children:e.jsx(k,{folder:i,selectedWaypoint:i.waypoints[0],styles:t})})}),e.jsxs("div",{className:"grid-1",children:[e.jsx("div",{className:"text-center mb-5 mt-5",children:e.jsx(w,{folder:i,selectedId:Number(s)})}),i.path&&n?e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-40 w-full mb-10",children:e.jsx(y,{path:i.path,waypoints:i.waypoints,styles:t})})}):e.jsx(e.Fragment,{}),e.jsx(f,{waypoints:i.waypoints,styles:t})]}),e.jsx("div",{className:"absolute bottom-5 right-5 print:hidden",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"toggle",defaultChecked:!0,onChange:l=>a(l.target.checked)}),e.jsx("span",{className:"pl-2 font-semibold",children:"HÃ¶henprofil anzeigen"})]})})]})}):e.jsx(j,{to:"/"})}export{F as FolderPage};
